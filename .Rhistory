knitr::opts_chunk$set(echo = TRUE,warning=F,message=F)
library(readr)
labordata <- read_csv("http://people.stern.nyu.edu/wgreene/Econometrics/cornwell&rupert.csv")
labordata %<>% filter(YEAR=="7")
#建立model
modelr1<-WKS ~ LWAGE
model2<-WKS ~ LWAGE+UNION
#跑OLS
ols1<-lm(model1,labordata)
library(dplyr)
library(magrittr)
knitr::opts_chunk$set(echo = TRUE,warning=F,message=F)
library(readr)
labordata <- read_csv("http://people.stern.nyu.edu/wgreene/Econometrics/cornwell&rupert.csv")
labordata %<>% filter(YEAR=="7")
labordata$WKS %>% plot(labordata$LWAGE)
labordata %>%
group_by(UNION) %>%
summarise(mean(LWAGE),mean(WKS))
#建立model
modelr1<-WKS ~ LWAGE
model2<-WKS ~ LWAGE+UNION
#跑OLS
ols1<-lm(model1,labordata)
#建立model
modelr1<-WKS ~ LWAGE
model2<-WKS ~ LWAGE+UNION
#跑OLS
ols1<-lm(model1,labordata)
#建立model
model1<-WKS ~ LWAGE
model2<-WKS ~ LWAGE+UNION
#跑OLS
ols1<-lm(model1,labordata)
ols2<-lm(model2,labordata)
#載入packages
library(sandwich)
library(lmtest)
library(stargazer)
#使用vcovHC函數來計算HC1型的異質變異（即橫斷面資料下的線性迴歸模型）
coeftest(ols1, vcov. = vcovHC, type="HC1") -> ols1_coeftest
coeftest(ols2, vcov. = vcovHC, type="HC1") -> ols2_coeftest
#OLS結果比較
stargazer(ols1,ols2,
se=list(ols1_coeftest[,"Std. Error"],
ols2_coeftest[,2]),
type="text")
ols1_coeftest
View(labordata)
#建立model
model1<-WKS ~ LWAGE
model2<-WKS ~ LWAGE+ED+UNION+FEM
#跑OLS
ols1<-lm(model1,labordata)
ols2<-lm(model2,labordata)
#載入packages
library(sandwich)
library(lmtest)
library(stargazer)
#使用vcovHC函數來計算HC1型的異質變異（即橫斷面資料下的線性迴歸模型）
coeftest(ols1, vcov. = vcovHC, type="HC1") -> ols1_coeftest
coeftest(ols2, vcov. = vcovHC, type="HC1") -> ols2_coeftest
#OLS結果比較
stargazer(ols1,ols2,
se=list(ols1_coeftest[,"Std. Error"],
ols2_coeftest[,2]),
type="text")
View(labordata)
View(labordata)
library("AER", lib.loc="C:/R/library")
tsls_1iv <- ivreg(
model2  | IMDB ,
data=labordata
)
tsls_1iv <- ivreg(
model2  | INDB ,
data=labordata
)
tsls_1iv <- ivreg(
model2  | IND ,
data=labordata
)
tsls_1iv <- ivreg(
model2  | IND ,
data=labordata
)
tsls_1iv <- ivreg(
model2  | ED+UNION+FEM+IND ,
data=labordata
)
tsls_1iv <- ivreg(
WKS ~ LWAGE+ED+UNION+FEM | ED+UNION+FEM+IND ,
data=labordata
)
tsls_1iv <- ivreg(
WKS ~ LWAGE + ED + UNION + FEM | ED + UNION + FEM + IND ,
data=labordata
)
tsls_1iv <- ivreg(
WKS ~ LWAGE + ED + UNION + FEM | ED + UNION + FEM + IND ,
data=labordata
)
summary(tsls_1iv, vcov = sandwich, diagnostics = TRUE, df=Inf) -> tsls_1iv_tests
tsls_1iv <- ivreg(
WKS ~ LWAGE + ED + UNION + FEM | ED + UNION + FEM + IND ,
data=labordata
)
summary(tsls_1iv, vcov = sandwich, diagnostics = TRUE, df=Inf) -> tsls_1iv_tests
tsls_1iv <- ivreg(
WKS ~ LWAGE + ED + UNION + FEM | ED + UNION + FEM + IND ,
data=labordata
)
summary(tsls_1iv, vcov = sandwich, diagnostics = TRUE, df=Inf) -> tsls_1iv_tests
tsls_1iv <- ivreg(
WKS ~ LWAGE + ED + UNION + FEM | ED + UNION + FEM + IND ,
data=labordata
)
summary(tsls_1iv, vcov = sandwich, diagnostics = TRUE, df=Inf) -> tsls_1iv_tests
tsls_1iv <- ivreg(
WKS ~ LWAGE + ED + UNION + FEM | ED + UNION + FEM + IND ,
data=labordata
)
summary(tsls_1iv, vcov = sandwich, diagnostics = TRUE, df=Inf) -> tsls_1iv_tests
tsls_1iv <- ivreg(
WKS ~ LWAGE + ED + UNION + FEM | ED + UNION + FEM + IND ,
data=labordata
)
summary(tsls_1iv, vcov = sandwich, diagnostics = TRUE, df=Inf) -> tsls_1iv_tests
tsls_1iv <- ivreg(
WKS ~ LWAGE + ED + UNION + FEM | ED + UNION + FEM + IND ,
data=labordata
)
summary(tsls_1iv, vcov = sandwich, diagnostics = TRUE, df=Inf) -> tsls_1iv_tests
tsls_1iv_tests
tsls_2iv <- ivreg(
WKS ~ LWAGE + ED + UNION + FEM | ED + UNION + FEM + IND + SMSA,
data=CigarettesSW
)
tsls_2iv <- ivreg(
WKS ~ LWAGE + ED + UNION + FEM | ED + UNION + FEM + IND + SMSA,
data=labordata
)
summary(tsls_2iv, vcov = sandwich, diagnostics = TRUE, df=Inf) -> tsls_2iv_tests
tsls_2iv_tests
stargazer(ols1,ols2,tsls_1iv_tests,tsls_2iv_tests,
se=list(ols1_coeftest[,"Std. Error"],
ols2_coeftest[,2]),
type="text")
stargazer(ols1,ols2,tsls_1iv_tests,tsls_2iv_tests,
se=list(ols1_coeftest[,"Std. Error"],
ols2_coeftest[,2]),
type="text")
stargazer(ols1,ols2,tsls_1iv_tests,tsls_2iv_tests,
se=list(ols1_coeftest[,"Std. Error"],
ols2_coeftest[,2]),
type="text")
ols1_coeftest
ols2_coeftest
stargazer(ols1,ols2,tsls_1iv_tests,tsls_2iv_tests,
se=list(ols1_coeftest[,"Std. Error"],
ols2_coeftest[,2]),
type="text")
stargazer(ols1,ols2,tsls_1iv_tests,tsls_2iv_tests,
se=list(ols1_coeftest[,"Std. Error"],
ols2_coeftest[,2]),
type="text")
stargazer(ols1,ols2,tsls_1iv_tests,tsls_2iv_tests,
type="text")
stargazer(ols1,ols2,tsls_1iv
type="text")
stargazer(ols1,ols2,tsls_1iv,
type="text")
stargazer(ols1,ols2,tsls_1iv,tsls_2iv,
se=list(ols1_coeftest[,"Std. Error"],
ols2_coeftest[,2]),
type="text")
